<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/rocket.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>digioptimized</title>
    <!-- League Spartan for logo / headings -->
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;600;700;800&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <!-- Inline error overlay to surface JS/module loading errors on deployed site -->
    <div id="app-error" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);color:#fff;padding:24px;z-index:9999;overflow:auto;">
      <h2 style="margin-top:0">App failed to load</h2>
      <pre id="app-error-details" style="white-space:pre-wrap;color:#fff"></pre>
    </div>
    <script>
      (function(){
        function showError(msg){
          try{
            var o=document.getElementById('app-error');
            var d=document.getElementById('app-error-details');
            if(o && d){ d.textContent = msg; o.style.display='block'; }
          }catch(e){ console.error('Error overlay failed', e); }
        }

        window.addEventListener('error', function(ev){
          var msg = (ev && ev.message) ? ev.message : String(ev);
          msg += '\nAt: ' + (ev && ev.filename ? ev.filename + ':' + ev.lineno + ':' + ev.colno : 'unknown');
          console.error('Window error:', ev.error || msg);
          showError(msg + '\n\nSee console for stack.');
        });

        window.addEventListener('unhandledrejection', function(ev){
          var reason = ev && ev.reason ? (ev.reason.stack || ev.reason) : String(ev);
          console.error('Unhandled rejection:', ev);
          showError('Unhandled promise rejection:\n' + reason);
        });

        // detect module/script load failures or runtime mount failures
        window.addEventListener('load', function(){
          // wait a short time for the app to mount; if nothing mounted, show a helpful message
          setTimeout(function(){
            var root = document.getElementById('root');
            // If an explicit mount error was written by the bundle, show it (prefer detailed stack)
            if(window.__APP_MOUNT_ERROR){
              showError('App mount error detected:\n\n' + window.__APP_MOUNT_ERROR);
              return;
            }
            // If the bundle marked itself as mounted, assume success
            if(window.__APP_MOUNTED){
              return;
            }
            if(root && root.children.length === 0){
              var hint = 'App root is empty. Possible causes:\n'
                + '- Module load failures (404 for /assets/*).\n'
                + '- Runtime exception thrown during initial render (check console).\n'
                + '- Incorrect Vite `base` causing wrong asset paths.\n\n'
                + 'Open DevTools Console to see the first error stack, or ensure the deployed build matches the repo.';
              showError(hint);
            }
          }, 1200);
        });
      })();
    </script>
    <script type="module" src="src/main.jsx"></script>
  </body>
</html>
